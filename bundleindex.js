(()=>{var v=[{nom:"Online Font creator",text:`Voici un petit site sympa pour cr\xE9er votre propre Font ! 
Il faudra vous arm\xE9 de patience pour faire toutes vos lettres..La bonne nouvelle est qu'il vous propose aussi de modifier des fonts existantes. \u{1F918}\u{1F3FC}`,image:"../ressources/img/articles/font.webp",auteur:"https://fontark.net/farkwp"},{nom:"Une nuit de r\xEAve",text:"Blabla, c'est qu454545454oi c'est cool je fais un test \xE0 la con pour voir comment \xE7a va marcher hihihih !!",image:"https://zupimages.net/up/23/12/qzv4.jpg",auteur:"Elsa"}],m=class{constructor(){this.nom="invit\xE9",this.rubis=0}},o={utilisateur:new m,io:"https://geniusjs.herokuapp.com",formouvert:!1,profilconnecte:!1};function h(){v.forEach(e=>{let t=document.createElement("div");t.className="blockarticles";let n=document.createElement("h1");n.textContent=e.nom;let c=document.createElement("h2");c.textContent=e.auteur;let u=document.createElement("p");u.className="textearticles",u.textContent=e.text;let a=document.createElement("img");a.className="imagearticles",a.src=e.image,t.appendChild(n),t.appendChild(a),t.appendChild(u),t.appendChild(c),document.querySelector("main").appendChild(t)})}function i(e){e===!0?document.querySelector("form").style.display="none":e===!1&&(document.querySelector("form").style.display="flex")}function p(e){e.nom==="invit\xE9"?localStorage.getItem("nom")===null||localStorage.getItem("nom"):(o.utilisateur=e,localStorage.setItem("nom",e.nom),document.querySelector("#rubiscount").textContent=o.utilisateur.rubis,document.querySelector("form").style.display="none",o.formouvert=!1,o.profilconnecte=!0)}function l(e){let t=document.createElement("p");t.textContent=e,t.className="perror",document.querySelector("form").appendChild(t),r.timeursecondes(1,()=>{t.remove()})}var r=$,d="home",s;var f=io(o.io);onload=()=>{p(o.utilisateur);let e=getComputedStyle(document.documentElement).getPropertyValue("--rouge");h()};r.event("#lihome","click",()=>{d==="home"||(document.querySelector("#blockcard").remove(),s.remove(),document.querySelector("main").innerHTML="",d="home")});r.event("#liarticles","click",()=>{fetch("./pages/test.html").then(e=>{e.text().then(t=>{let n=t;document.querySelector("main").innerHTML=n}),fetch("./pages/test.mjs").then(t=>t.text()).then(t=>{s=document.createElement("script"),s.innerHTML=t,document.querySelector("#blockcard").appendChild(s)}),d="articles"})});r.event("#compteicon","click",()=>{o.profilconnecte===!0||(o.formouvert===!1?(i(o.formouvert),o.formouvert=!0):(i(o.formouvert),o.formouvert=!1))});r.event("#spanpass","click",()=>{document.querySelector("#inputpass").type==="text"?document.querySelector("#inputpass").type="password":document.querySelector("#inputpass").type="text"});r.event("#fermerform","click",()=>{i(o.formouvert),o.formouvert=!1});r.event("#connexionform","click",e=>{e.preventDefault();let t=document.querySelector("#inputname"),n=document.querySelector("#inputpass");if(t.value===""||n.value==="")l("Veuillez remplir tous les champs");else if(t.value==="invit\xE9")l("Choisissez un autre pseudo");else{let c={nom:t.value,pass:n.value};f.emit("connexionnetwork",c)}});f.on("reponseconnexionnetworkok",e=>{o.utilisateur=e,p(o.utilisateur),console.log(o.utilisateur),console.log("Reponse du genius serveur ok")});f.on("reponseconnexionnetworkerror",e=>{l("Pseudo ou mot de passe incorrect"),console.log("error")});})();
