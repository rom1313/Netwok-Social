(()=>{var u=class{constructor(){this.nom="invit\xE9",this.rubis=0}},e={utilisateur:new u,io:"https://geniusjs.herokuapp.com",formouvert:!1,profilconnecte:!1};(function(){console.log("yo")})();function s(t){t===!0?document.querySelector("form").style.display="none":t===!1&&(document.querySelector("form").style.display="flex")}function c(t){t.nom==="invit\xE9"?localStorage.getItem("nom")===null||localStorage.getItem("nom"):(e.utilisateur=t,localStorage.setItem("nom",t.nom),document.querySelector("#rubiscount").textContent=e.utilisateur.rubis,document.querySelector("form").style.display="none",e.formouvert=!1,e.profilconnecte=!0)}function i(t){let o=document.createElement("p");o.textContent=t,o.className="perror",document.querySelector("form").appendChild(o),n.timeursecondes(1,()=>{o.remove()})}var n=$;var a=io(e.io);onload=()=>{let t,o;window.onmousemove=l=>{console.log("souris bouge"),t=l.clientX,o=l.clientY,console.log(t),document.documentElement.style.setProperty("--y")};let r=getComputedStyle(document.documentElement).getPropertyValue("--rouge");console.log(r),console.table(e.utilisateur),c(e.utilisateur),console.table(e.utilisateur)};n.salaireSMIC(24,"net","log");n.event("#compteicon","click",()=>{e.profilconnecte===!0||(e.formouvert===!1?(s(e.formouvert),e.formouvert=!0):(s(e.formouvert),e.formouvert=!1))});n.event("#spanpass","click",()=>{document.querySelector("#inputpass").type==="text"?document.querySelector("#inputpass").type="password":document.querySelector("#inputpass").type="text"});n.event("#fermerform","click",()=>{s(e.formouvert),e.formouvert=!1});n.event("#connexionform","click",t=>{t.preventDefault();let o=document.querySelector("#inputname"),r=document.querySelector("#inputpass");if(o.value===""||r.value==="")i("Veuillez remplir tous les champs");else if(o.value==="invit\xE9")i("Choisissez un autre pseudo");else{let l={nom:o.value,pass:r.value};a.emit("connexionnetwork",l)}});a.on("reponseconnexionnetworkok",t=>{e.utilisateur=t,c(e.utilisateur),console.log(e.utilisateur),console.log("Reponse du genius serveur ok")});a.on("reponseconnexionnetworkerror",t=>{i("Pseudo ou mot de passe incorrect"),console.log("error")});})();
